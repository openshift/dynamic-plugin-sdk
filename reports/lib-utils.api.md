## API Report File for "@openshift/dynamic-plugin-sdk-utils"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

/// <reference types="react" />

import type { ActionType as ActionType_2 } from 'typesafe-actions';
import type { AnyAction } from 'redux';
import type { AnyObject } from '@openshift/dynamic-plugin-sdk';
import { Context } from 'react';
import { CustomError } from '@openshift/dynamic-plugin-sdk';
import type { Dispatch } from 'redux';
import type { EitherNotBoth } from '@openshift/dynamic-plugin-sdk';
import type { Map as Map_2 } from 'immutable';
import type { PluginStore } from '@openshift/dynamic-plugin-sdk';
import * as React_2 from 'react';
import { default as React_3 } from 'react';
import type { ResourceFetch } from '@openshift/dynamic-plugin-sdk';
import type { Store } from 'redux';

// @public (undocumented)
export enum ActionType {
    // (undocumented)
    BulkAddToList = "bulkAddToList",
    // (undocumented)
    ClearError = "clearError",
    // (undocumented)
    Errored = "errored",
    // (undocumented)
    FilterList = "filterList",
    // (undocumented)
    Loaded = "loaded",
    // (undocumented)
    ModifyObject = "modifyObject",
    // (undocumented)
    ReceivedResources = "resources",
    // (undocumented)
    SetBatchesInFlight = "setBatchesInFlight",
    // (undocumented)
    SetResourcesInFlight = "setResourcesInFlight",
    // (undocumented)
    StartWatchK8sList = "startWatchK8sList",
    // (undocumented)
    StartWatchK8sObject = "startWatchK8sObject",
    // (undocumented)
    StopWatchK8s = "stopWatchK8s",
    // (undocumented)
    UpdateListFromWS = "updateListFromWS"
}

// @public (undocumented)
export type APIActions = {
    setResourcesInFlight: (isInFlight: boolean) => void;
    setBatchesInFlight: (isInFlight: boolean) => void;
    receivedResources: (resource: DiscoveryResources) => void;
};

// @public
export const AppInitSDK: React_2.FC<AppInitSDKProps>;

// @public (undocumented)
export type AppInitSDKProps = {
    configurations: {
        apiDiscovery?: InitAPIDiscovery;
        apiPriorityList?: string[];
        appFetch: UtilsConfig['appFetch'];
        pluginStore: PluginStore;
        wsAppSettings: UtilsConfig['wsAppSettings'];
    };
};

// @public (undocumented)
export type BulkMessageHandler = GenericHandler<MessageDataType[]>;

// @public (undocumented)
export type CloseHandler = GenericHandler<CloseEvent>;

// @public (undocumented)
export const commonFetch: (url: string, requestInit?: RequestInit | undefined, timeout?: number | undefined, isK8sAPIRequest?: boolean | undefined) => Promise<Response>;

// @public (undocumented)
export const commonFetchJSON: {
    <TResult>(url: string, requestInit?: RequestInit | undefined, timeout?: number | undefined, isK8sAPIRequest?: boolean | undefined): Promise<TResult>;
    put<TResult_1>(url: string, data: unknown, requestInit?: RequestInit | undefined, timeout?: number | undefined, isK8sAPIRequest?: boolean | undefined): Promise<TResult_1>;
    post<TResult_2>(url: string, data: unknown, requestInit?: RequestInit | undefined, timeout?: number | undefined, isK8sAPIRequest?: boolean | undefined): Promise<TResult_2>;
    patch<TResult_3>(url: string, data: unknown, requestInit?: RequestInit | undefined, timeout?: number | undefined, isK8sAPIRequest?: boolean | undefined): Promise<TResult_3>;
    delete<TResult_4>(url: string, data?: unknown, requestInit?: RequestInit | undefined, timeout?: number | undefined, isK8sAPIRequest?: boolean | undefined): Promise<TResult_4>;
};

// @public (undocumented)
export const commonFetchText: (url: string, requestInit?: RequestInit | undefined, timeout?: number | undefined, isK8sAPIRequest?: boolean | undefined) => Promise<string>;

// @public (undocumented)
export const createAPIActions: (dispatch: Dispatch) => APIActions;

// @public
export type DestroyHandler = GenericHandler<unknown | undefined>;

// @public (undocumented)
export type DiscoveryResources = {
    adminResources: string[];
    allResources: string[];
    configResources: K8sModelCommon[];
    clusterOperatorConfigResources: K8sModelCommon[];
    models: K8sModelCommon[];
    namespacedSet: Set<string>;
    safeResources: string[];
    groupVersionMap: {
        [key: string]: {
            versions: string[];
            preferredVersion: string;
        };
    };
};

// @public (undocumented)
export type ErrorHandler = GenericHandler<Event>;

// @public (undocumented)
export type FilterValue = Partial<{
    selected: string[];
    all: string[];
}>;

// @public (undocumented)
export type GenericHandler<T = unknown> = (data: T) => void;

// @public (undocumented)
export function getActiveWorkspace(): string | null;

// @public (undocumented)
export type GetGroupVersionKindForModel = (model: K8sModelCommon) => K8sResourceIdentifier;

// @public
export const getK8sResourceURL: (model: K8sModelCommon, resource?: K8sResourceCommon | undefined, queryOptions?: QueryOptions, isCreate?: boolean) => string;

// @public
export const getUtilsConfig: () => UtilsConfig;

// @public @deprecated (undocumented)
export type GroupVersionKind = string;

// @public (undocumented)
export type InitAPIDiscovery = (store: Store<unknown, ActionType_2<AnyAction>>, preferenceList?: string[]) => void;

// @public (undocumented)
export const initAPIDiscovery: InitAPIDiscovery;

// @public
export const isK8sStatus: (data: unknown) => data is K8sStatus;

// @public
export const isUtilsConfigSet: () => boolean;

// @public (undocumented)
export const k8sCreateResource: <TResource extends K8sResourceCommon, TCreatedResource = TResource>({ model, resource, queryOptions, fetchOptions, }: K8sResourceUpdateOptions<TResource>) => Promise<TCreatedResource>;

// @public (undocumented)
export const k8sDeleteResource: <TResource extends K8sResourceCommon, TDeleteResult = TResource>({ model, payload, queryOptions, fetchOptions, }: K8sResourceDeleteOptions) => Promise<TDeleteResult>;

// @public (undocumented)
export const k8sGetResource: <TResource extends K8sResourceCommon>({ model, queryOptions, fetchOptions, }: K8sResourceReadOptions) => Promise<TResource>;

// @public (undocumented)
export type K8sGroupVersionKind = {
    group?: string;
    version: string;
    kind: string;
};

// @public (undocumented)
export const k8sListResource: <TResource extends K8sResourceCommon>({ model, queryOptions, fetchOptions, }: K8sResourceListOptions) => Promise<K8sResourceListResult<TResource>>;

// @public (undocumented)
export const k8sListResourceItems: <TResource extends K8sResourceCommon>(options: K8sResourceListOptions) => Promise<TResource[]>;

// @public (undocumented)
export type K8sModelCommon = K8sResourceIdentifier & {
    plural: string;
    propagationPolicy?: 'Foreground' | 'Background';
    verbs?: K8sVerb[];
    shortNames?: string[];
    crd?: boolean;
    namespaced?: boolean;
};

// @public (undocumented)
export const k8sPatchResource: <TResource extends K8sResourceCommon, TPatchedResource extends TResource = TResource>({ model, patches, queryOptions, fetchOptions, }: K8sResourcePatchOptions) => Promise<TPatchedResource>;

// @public (undocumented)
export type K8sResourceBaseOptions<TQueryOptions = QueryOptions> = {
    model: K8sModelCommon;
    queryOptions?: TQueryOptions;
    fetchOptions?: Partial<{
        requestInit: RequestInit & {
            wsPrefix?: string;
            pathPrefix?: string;
        };
        timeout: number;
    }>;
};

// @public (undocumented)
export type K8sResourceCommon = K8sResourceIdentifier & Partial<{
    metadata: Partial<{
        annotations: Record<string, string>;
        clusterName: string;
        creationTimestamp: string;
        deletionGracePeriodSeconds: number;
        deletionTimestamp: string;
        finalizers: string[];
        generateName: string;
        generation: number;
        labels: Record<string, string>;
        managedFields: unknown[];
        name: string;
        namespace: string;
        ownerReferences: OwnerReference[];
        resourceVersion: string;
        uid: string;
    }>;
    spec: {
        selector?: Selector | MatchLabels;
        [key: string]: unknown;
    };
    status: {
        [key: string]: unknown;
    };
    data: {
        [key: string]: unknown;
    };
}>;

// @public (undocumented)
export type K8sResourceDeleteOptions = K8sResourceBaseOptions & {
    payload?: AnyObject;
};

// @public (undocumented)
export type K8sResourceIdentifier = {
    apiGroup?: string;
    apiVersion: string;
    kind: string;
};

// @public @deprecated (undocumented)
export type K8sResourceKindReference = GroupVersionKind | string;

// @public (undocumented)
export type K8sResourceListOptions = K8sResourceBaseOptions<Pick<QueryOptions, 'ns' | 'queryParams'>>;

// @public (undocumented)
export type K8sResourceListResult<TResource extends K8sResourceCommon> = {
    apiVersion: string;
    items: TResource[];
    metadata: {
        resourceVersion: string;
        continue: string;
    };
};

// @public (undocumented)
export type K8sResourcePatchOptions = K8sResourceBaseOptions & {
    patches: Patch[];
};

// @public (undocumented)
export type K8sResourceReadOptions = K8sResourceBaseOptions;

// @public (undocumented)
export type K8sResourceUpdateOptions<TResource extends K8sResourceCommon> = K8sResourceBaseOptions & {
    resource: TResource;
};

// @public (undocumented)
export type K8sState = Map_2<string, unknown>;

// @public
export type K8sStatus = K8sResourceIdentifier & {
    code: number;
    message: string;
    reason: string;
    status: 'Success' | 'Failure';
};

// @public
export class K8sStatusError extends CustomError {
    constructor(status: K8sStatus);
    // (undocumented)
    readonly status: K8sStatus;
}

// @public (undocumented)
export const k8sUpdateResource: <TResource extends K8sResourceCommon, TUpdatedResource extends TResource = TResource>({ model, resource, queryOptions, fetchOptions, }: K8sResourceUpdateOptions<TResource>) => Promise<TUpdatedResource>;

// @public (undocumented)
export type K8sVerb = 'create' | 'get' | 'list' | 'update' | 'patch' | 'delete' | 'deletecollection' | 'watch';

// @public (undocumented)
export type MatchExpression = {
    key: string;
    operator: Operator | string;
    values?: string[];
    value?: string;
};

// @public (undocumented)
export type MatchLabels = {
    [key: string]: string;
};

// @public
export type MessageDataType = AnyObject | string;

// @public (undocumented)
export type MessageHandler = GenericHandler<MessageDataType>;

// @public (undocumented)
export type OpenHandler = GenericHandler<never>;

// @public (undocumented)
export enum Operator {
    // (undocumented)
    DoesNotExist = "DoesNotExist",
    // (undocumented)
    Equals = "Equals",
    // (undocumented)
    Exists = "Exists",
    // (undocumented)
    GreaterThan = "GreaterThan",
    // (undocumented)
    In = "In",
    // (undocumented)
    LessThan = "LessThan",
    // (undocumented)
    NotEqual = "NotEqual",
    // (undocumented)
    NotEquals = "NotEquals",
    // (undocumented)
    NotIn = "NotIn"
}

// @public (undocumented)
export type OwnerReference = {
    apiVersion: string;
    kind: string;
    name: string;
    uid: string;
    controller?: boolean;
    blockOwnerDeletion?: boolean;
};

// @public (undocumented)
export type Patch = {
    op: string;
    path: string;
    value?: unknown;
};

// @public (undocumented)
export type Query = {
    [key: string]: unknown;
};

// @public (undocumented)
export type QueryOptions = Partial<{
    ns: string;
    name: string;
    path: string;
    queryParams: QueryParams;
}>;

// @public (undocumented)
export type QueryParams = Partial<{
    watch: string;
    labelSelector: string;
    fieldSelector: string;
    resourceVersion: string;
    pretty: string;
    dryRun: string;
    fieldManager: string;
    fieldValidation: string;
    [key: string]: string;
}>;

// @public
export const ReduxExtensionProvider: React_2.FC;

// @public (undocumented)
export type ResourcesObject = {
    [key: string]: K8sResourceCommon | K8sResourceCommon[];
};

// @public
export const SDKReducers: Readonly<{
    k8s: (state: K8sState, action: {
        type: import("../actions/k8s").ActionType.StartWatchK8sObject;
        payload: {
            id: string;
        };
    } | {
        type: import("../actions/k8s").ActionType.StartWatchK8sList;
        payload: {
            id: string;
            query: Query;
        };
    } | {
        type: import("../actions/k8s").ActionType.ModifyObject;
        payload: {
            id: string;
            k8sObjects: K8sResourceCommon;
        };
    } | {
        type: import("../actions/k8s").ActionType.ClearError;
        payload: {
            id: string;
            k8sObjects: K8sResourceCommon;
        };
    } | {
        type: import("../actions/k8s").ActionType.StopWatchK8s;
        payload: {
            id: string;
        };
    } | {
        type: import("../actions/k8s").ActionType.Errored;
        payload: {
            id: string;
            k8sObjects: unknown;
        };
    } | {
        type: import("../actions/k8s").ActionType.Loaded;
        payload: {
            id: string;
            k8sObjects: K8sResourceCommon[];
        };
    } | {
        type: import("../actions/k8s").ActionType.BulkAddToList;
        payload: {
            id: string;
            k8sObjects: K8sResourceCommon[];
        };
    } | {
        type: import("../actions/k8s").ActionType.UpdateListFromWS;
        payload: {
            id: string;
            k8sObjects: {
                type: "ADDED" | "DELETED" | "MODIFIED";
                object: K8sResourceCommon;
            }[];
        };
    } | {
        type: import("../actions/k8s").ActionType.FilterList;
        payload: {
            id: string;
            name: string;
            value: Partial<{
                selected: string[];
                all: string[];
            }>;
        };
    } | {
        type: import("../actions/k8s").ActionType.ReceivedResources;
        payload: {
            resources: DiscoveryResources;
        };
    } | {
        type: import("../actions/k8s").ActionType.SetResourcesInFlight;
        payload: {
            isInFlight: boolean;
        };
    } | {
        type: import("../actions/k8s").ActionType.SetBatchesInFlight;
        payload: {
            isInFlight: boolean;
        };
    }) => K8sState;
}>;

// @public (undocumented)
export type Selector = Partial<{
    matchLabels: MatchLabels;
    matchExpressions: MatchExpression[];
    [key: string]: unknown;
}>;

// @public (undocumented)
export function setActiveWorkspaceLocalStorage(workspace: string): void;

// @public
export const setUtilsConfig: (c: UtilsConfig) => void;

// @public (undocumented)
export type UseK8sModel = (groupVersionKind: K8sResourceKindReference | K8sGroupVersionKind) => [K8sModelCommon, boolean];

// @public
export const useK8sModel: UseK8sModel;

// @public (undocumented)
export type UseK8sModels = () => [{
    [key: string]: K8sModelCommon;
}, boolean];

// @public
export const useK8sModels: UseK8sModels;

// @public
export const useK8sWatchResource: <R extends K8sResourceCommon | K8sResourceCommon[]>(initResource: WatchK8sResource | null, initModel?: K8sModelCommon | undefined, options?: Partial<WebSocketOptions & RequestInit & {
    wsPrefix?: string | undefined;
    pathPrefix?: string | undefined;
}> | undefined) => WatchK8sResult<R>;

// @public
export const useK8sWatchResources: <R extends ResourcesObject>(initResources: WatchK8sResources<R>, initModels?: K8sModelCommon[] | undefined, options?: Partial<WebSocketOptions & RequestInit & {
    wsPrefix?: string | undefined;
    pathPrefix?: string | undefined;
}> | undefined) => WatchK8sResults<R>;

// @public
export const useWorkspace: () => readonly [string | null, (newWorkspace: string) => void];

// @public (undocumented)
export type UtilsConfig = {
    appFetch: ResourceFetch;
    wsAppSettings: (options: WebSocketOptions & {
        wsPrefix?: string;
        pathPrefix?: string;
    }) => Promise<WebSocketAppSettings>;
};

// @public (undocumented)
export type WatchK8sResource = EitherNotBoth<{
    kind: K8sResourceKindReference;
}, {
    groupVersionKind: K8sGroupVersionKind;
}> & {
    name?: string;
    namespace?: string;
    isList?: boolean;
    selector?: Selector;
    namespaced?: boolean;
    limit?: number;
    fieldSelector?: string;
    optional?: boolean;
    partialMetadata?: boolean;
};

// @public (undocumented)
export type WatchK8sResources<R extends ResourcesObject> = {
    [K in keyof R]: WatchK8sResource;
};

// @public (undocumented)
export type WatchK8sResult<R extends K8sResourceCommon | K8sResourceCommon[]> = [
data: R,
loaded: boolean,
loadError: unknown
];

// @public (undocumented)
export type WatchK8sResults<R extends ResourcesObject> = {
    [K in keyof R]: WatchK8sResultsObject<R[K]>;
};

// @public (undocumented)
export type WatchK8sResultsObject<R extends K8sResourceCommon | K8sResourceCommon[]> = {
    data: R;
    loaded: boolean;
    loadError: unknown;
};

// @public
export type WebSocketAppSettings = {
    host: string;
    subProtocols: string[];
    urlAugment?: (url: string) => string;
};

// @public
export class WebSocketFactory {
    constructor(
    id: string,
    options: WebSocketOptions & {
        wsPrefix?: string;
        pathPrefix?: string;
    });
    bufferSize(): number;
    destroy(eventData?: unknown): void;
    flushMessageBuffer(): void;
    getState(): WebSocketState;
    // (undocumented)
    isPaused(): boolean;
    onBulkMessage(fn: BulkMessageHandler): WebSocketFactory;
    onClose(fn: CloseHandler): WebSocketFactory;
    onDestroy(fn: DestroyHandler): WebSocketFactory;
    onError(fn: ErrorHandler): WebSocketFactory;
    onMessage(fn: MessageHandler): WebSocketFactory;
    onOpen(fn: OpenHandler): WebSocketFactory;
    pause(): void;
    send(data: Parameters<typeof WebSocket.prototype.send>[0]): void;
    unpause(): void;
}

// @public
export type WebSocketOptions = {
    path: string;
    host?: string;
    subProtocols?: string[];
    reconnect?: boolean;
    jsonParse?: boolean;
    bufferMax?: number;
    bufferFlushInterval?: number;
    timeout?: number;
};

// @public
export enum WebSocketState {
    // (undocumented)
    CLOSED = "closed",
    // (undocumented)
    DESTROYED = "destroyed",
    // (undocumented)
    ERRORED = "error",
    // (undocumented)
    INIT = "init",
    // (undocumented)
    OPENED = "open"
}

// @public
export const WorkspaceContext: Context<    {
getState: () => WorkspaceContextState;
setWorkspaceContext: (workspace: string | null) => void;
subscribe: (event: UpdateEvents, onUpdate: () => void) => string;
unsubscribe: (id: string, event: UpdateEvents) => void;
update: (event: UpdateEvents, attributes: Partial<WorkspaceContextState>) => void;
}>;

// @public
export const WorkspaceProvider: React_3.FC<React_3.PropsWithChildren<unknown>>;

// Warnings were encountered during analysis:
//
// dist/types/utils/WorkspaceContext.d.ts:13:5 - (ae-forgotten-export) The symbol "WorkspaceContextState" needs to be exported by the entry point index.d.ts
// dist/types/utils/WorkspaceContext.d.ts:15:5 - (ae-forgotten-export) The symbol "UpdateEvents" needs to be exported by the entry point index.d.ts

```
